<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Perfil Detallado de Mascota</title>
    <link rel="stylesheet" href="../../assets/css/perfil.css">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <img src="../../assets/img/logo negativo.png" alt="Logo de la clínica" class="logo">
            <h1 class="page-title">Perfil de Mascota</h1>
        </div>
    </header>

    <main class="main-content">
        <div class="pet-profile">
            <section class="pet-overview">
                <div class="pet-image">
                    <img id="imagenMascota" src="" alt="Foto de la Mascota">
                </div>
                <div class="pet-details-brief">
                    <h2 id="nombreMascota" class="pet-name"></h2>
                    <p class="pet-breed"><strong class="label">Raza:</strong> <span id="razaMascota"></span></p>
                    <p class="pet-owner"><strong class="label">Dueño:</strong> <span id="nombreDueño"></span></p>
                    <p class="pet-gender"><strong class="label">Género:</strong> <span id="sexoMascota"></span></p>
                </div>
            </section>

            <section class="pet-identification">
                <h3 class="section-title">Identificación</h3>
                <div class="info-grid">
                    <p><strong class="label">Especie:</strong> <span id="especieMascota"></span></p>
                    <p><strong class="label">Edad:</strong> <span id="edadMascota"></span></p>
                    <p><strong class="label">Color y Marcas:</strong> <span id="colorMascota"></span></p>
                    <p><strong class="label">Microchip:</strong> <span id="microchipMascota"></span></p>
                    <p><strong class="label">Collar/Placa:</strong> <span id="collarMascota"></span></p>
                </div>
            </section>

            <section class="owner-contact">
                <h3 class="section-title">Contacto del Dueño</h3>
                <div class="info-grid">
                    <p><strong class="label">Nombre(s):</strong> <span id="nombreDueñoContacto"></span></p>
                    <p><strong class="label">Dirección:</strong> <span id="direccionDueño"></span></p>
                    <p><strong class="label">Teléfonos:</strong> <span id="telefonoDueño"></span></p>
                    <p><strong class="label">Email:</strong> <span id="emailDueño"></span></p>
                    <p><strong class="label">Emergencia - Contacto:</strong> <span id="contactoEmergencia"></span></p>
                    <p><strong class="label">Veterinario:</strong> <span id="veterinario"></span></p>
                    <p><strong class="label">Clínica Emergencia:</strong> <span id="clinicaEmergencia"></span></p>
                    <p><strong class="label">Seguro:</strong> <span id="seguroMascotas"></span></p>
                </div>
            </section>

            <section class="medical-history">
                <h3 class="section-title">Historial Médico</h3>
                <div class="info-grid">
                    <p><strong class="label">Vacunas:</strong> <span id="vacunasMascota"></span></p>
                    <p><strong class="label">Esterilización/Castración:</strong> <span id="esterilizacionMascota"></span></p>
                    <p><strong class="label">Condiciones Médicas:</strong> <span id="condicionesMedicas"></span></p>
                    <p><strong class="label">Alergias:</strong> <span id="alergiasMascota"></span></p>
                    <p><strong class="label">Medicamentos:</strong> <span id="medicamentosMascota"></span></p>
                    <p><strong class="label">Preventivos:</strong> <span id="medicamentosPreventivos"></span></p>
                    <p><strong class="label">Cirugías:</strong> <span id="cirugiasMascota"></span></p>
                    <p><strong class="label">Hospitalizaciones:</strong> <span id="hospitalizacionesMascota"></span></p>
                    <p><strong class="label">Comportamiento:</strong> <span id="comportamientoMascota"></span></p>
                    <p><strong class="label">Ejercicio:</strong> <span id="ejercicioMascota"></span></p>
                </div>
            </section>

            <section class="dietary-info">
                <h3 class="section-title">Información Dietética</h3>
                <div class="info-grid">
                    <p><strong class="label">Alimento:</strong> <span id="alimentoMascota"></span></p>
                    <p><strong class="label">Horario:</strong> <span id="horarioAlimentacion"></span></p>
                    <p><strong class="label">Premios:</strong> <span id="premiosMascota"></span></p>
                    <p><strong class="label">Suplementos:</strong> <span id="suplementosMascota"></span></p>
                    <p><strong class="label">Agua:</strong> <span id="aguaMascota"></span></p>
                    <p><strong class="label">Alergias Alimentarias:</strong> <span id="alergiasAlimentarias"></span></p>
                </div>
            </section>

            <section class="other-info">
                <h3 class="section-title">Otra Información</h3>
                <div class="info-grid">
                    <p><strong class="label">Aseo:</strong> <span id="aseoMascota"></span></p>
                    <p><strong class="label">Restricciones Ejercicio:</strong> <span id="restriccionesEjercicio"></span></p>
                    <p><strong class="label">Temperamento:</strong> <span id="temperamentoMascota"></span></p>
                    <p><strong class="label">Miedos/Fobias:</strong> <span id="miedosMascota"></span></p>
                    <p><strong class="label">Ubicación Microchip:</strong> <span id="ubicacionMicrochip"></span></p>
                    <p><strong class="label">Grupo Sanguíneo:</strong> <span id="grupoSanguineoMascota"></span></p>
                    <p><strong class="label">Reacciones Anestesia:</strong> <span id="reaccionesAnestesia"></span></p>
                    <p><strong class="label">Deseos Final Vida:</strong> <span id="deseosFinalVida"></span></p>
                </div>
            </section>

            <section class="upload-history">
                <h3 class="section-title">Subir Historia Clínica</h3>
                <div class="upload-container">
                    <input type="file" id="historialClinico" accept=".pdf,.doc,.docx,.txt">
                    <button onclick="subirHistorial()">Subir Archivo</button>
                </div>
            </section>

            <div class="navigation">
                <a href="javascript:history.back()" class="back-link">← Volver</a>
            </div>
        </div>
        
    </main>

    <script>
        
        const especies = ['Perro', 'Gato',"Perro"];
        const razasPerro = ['Labrador', 'Golden Retriever', 'Bulldog', 'Poodle', 'Pastor Alemán'];
        const razasGato = ['Persa', 'Siames', 'Maine Coon', 'Bengalí', 'Ragdoll'];
        const colores = ['Blanco', 'Negro', 'Marrón', 'Gris', 'Atigrado', 'Manchado'];
        const sexos = ['Macho', 'Hembra'];
        const nombresDueñoLista = ['Ana Pérez', 'Carlos López', 'Sofía Gómez', 'Javier Ruiz', 'Valentina Vargas'];
        const direcciones = ['Calle Falsa 123', 'Avenida Siempreviva 742', 'Pasaje Secreto 55', 'Ruta Desconocida Km 9', 'Vereda La Esperanza'];
        const telefonos = ['3001234567', '3119876543', '3225551212', '3180001122', '3014445566'];
        const emails = ['ana.perez@email.com', 'carlos.lopez@mail.net', 'sofia_gomez@provider.org', 'javier_ruiz@domain.co', 'valen.vargas@service.io'];
        const contactosEmergencia = ['Laura Torres - 3151112233', 'Mateo Díaz - 3056667788', 'Isabela Castro - 3179990011', 'Sebastián Soto - 3028889900', 'Daniela Flores - 3192223344'];
        const veterinarios = ['Dr. Juan Rodríguez', 'Dra. María González', 'Dr. Pedro Fernández', 'Dra. Luisa Martínez', 'Dr. Andrés Sánchez'];
        const clinicasEmergencia = ['Vet Emergencias 24h', 'Clínica Animal Urgente', 'SOS Mascotas', 'Centro Veterinario Integral', 'Urgencias Veterinarias'];
        const seguros = ['AseguraPet', 'MiMascota Segura', 'Protección Animal Total', 'Salud Canina Plus', 'FeliCare'];
        const vacunasLista = ['Rabia', 'Parvovirus', 'Moquillo', 'Leptospirosis', 'Hepatitis'];
        const alimentos = ['Croquetas Premium', 'Alimento Húmedo Balanceado', 'Dieta BARF', 'Pienso Natural', 'Comida Casera'];
        const horarios = ['Mañana y Tarde', 'Mediodía y Noche', 'Una vez al día', 'Libre acceso', 'Horarios específicos'];
        const premiosLista = ['Galletas de Carne', 'Snacks de Pollo', 'Huesitos', 'Palitos Dentales', 'Frutas y Verduras'];
        const suplementosLista = ['Vitaminas', 'Omega 3', 'Probióticos', 'Calcio', 'Condroprotectores'];
        const comportamientos = ['Juguetón', 'Tranquilo', 'Nervioso', 'Cariñoso', 'Independiente'];
        const ejercicios = ['Paseos diarios', 'Correr en parque', 'Juegos en casa', 'Natación', 'Entrenamiento'];
        const aseosLista = ['Cepillado semanal', 'Baño mensual', 'Corte de pelo trimestral', 'Limpieza dental regular', 'Uñas cortas'];
        const temperamentosLista = ['Amigable con niños', 'Sociable con otros animales', 'Reservado con extraños', 'Protector', 'Curioso'];
        const miedosLista = ['Fuegos artificiales', 'Tormentas', 'Aspiradora', 'Coches', 'Veterinario'];
        const ubicacionesMicrochipLista = ['Izquierda del cuello', 'Derecha del cuello', 'Entre los omóplatos'];
        const gruposSanguineosPerro = ['DEA 1.1+', 'DEA 1.1-', 'DEA 4', 'DEA 6'];
        const gruposSanguineosGato = ['A', 'B', 'AB'];
        const reaccionesAnestesiaLista = ['Ninguna conocida', 'Sensibilidad leve', 'Reacción moderada', 'Precaución alta'];
        const deseosFinalVidaLista = ['Entierro en jardín', 'Cremación individual', 'Donación a investigación'];

        const datosExtra = {
            "Max": { raza: "Labrador", dueño: "Pedro Gómez", imagen: "https://www.bonza.dog/wp-content/uploads/Labrador-Dog-Health-Issues-Comprehensive-Guide-to-Common-Problems.webp", sexo: "Macho" },
            "Luna": { raza: "Persa", dueño: "Marta Pérez", imagen: "https://animalpets.co/wp-content/uploads/2024/11/Diseno-sin-titulo-25.png", sexo: "Hembra" },
            "Toby": { raza: "Golden Retriever", dueño: "Ana López", imagen: "https://adiestramientoenpositivo.org/wp-content/uploads/2022/12/Beige-Neutral-Mood-Board-Photo-Collage-1024x576.jpg", sexo: "Macho" },
            "Bella": { raza: "Siames", dueño: "Carlos Ruiz", imagen: "https://www.purina.es/sites/default/files/styles/ttt_image_510/public/2024-02/sitesdefaultfilesstylessquare_medium_440x440public2022-06Siamese-Cat_0.jpg?itok=vCdZhdUx", sexo: "Hembra" },
            "Rocky": { raza: "Bulldog", dueño: "Sofía Vargas", imagen: "https://bulldogfrancesmedellin.com/wp-content/uploads/2023/06/5-min-5.png", sexo: "Macho" },
            "Milo": { raza: "Beagle", dueño: "Javier Díaz", imagen: "https://www.akc.org/wp-content/uploads/2017/11/Beagle-Puppy.jpg", sexo: "Macho" },
            "Nala": { raza: "Maine Coon", dueño: "Valentina Soto", imagen: "https://www.purina.es/sites/default/files/2021-02/CAT%20HERO_0019_Ragdoll.jpg", sexo: "Hembra" },
            "Simba": { raza: "Doberman", dueño: "Andrés Castro", imagen: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRPliXYJl-kYUQW-79LzanwwFu8TM96HUavJQ&s", sexo: "Macho" },
            "Lola": { raza: "Pug", dueño: "Daniela Flores", imagen: "https://www.kokogenetics.com/_nuxt/img/302.b9d8ed9.webp", sexo: "Hembra" },
            "Coco": { raza: "Chihuahua", dueño: "Martín Silva", imagen: "https://www.purina.es/sites/default/files/2021-02/BREED%20Hero_0034_chihuahua_smooth.jpg?itok=e3gG56h8", sexo: "Macho" },
            "Zeus": { raza: "Pastor Alemán", dueño: "Isabella Rojas", imagen: "https://www.purina.es/sites/default/files/styles/ttt_image_510/public/2024-02/sitesdefaultfilesstylessquare_medium_440x440public2022-07German-Shepherd-Dog.jpg?itok=SNPGvGFh", sexo: "Macho" },
            "Kiara": { raza: "Ragdoll", dueño: "Mateo León", imagen: "https://www.purina.es/sites/default/files/2021-02/CAT%20HERO_0019_Ragdoll.jpg", sexo: "Hembra" },
            "Thor": { raza: "Boxer", dueño: "Camila Pérez", imagen: "https://media.istockphoto.com/id/173894961/es/foto/boxeador-colocaci%C3%B3n.jpg?s=612x612&w=is&k=20&c=y35aoiSOkF97gDSYvdtgLYxxVf4BFp81WSw9Icc2vsk=", sexo: "Macho" },
            "Olivia": { raza: "Yorkshire Terrier", dueño: "Sebastián Gómez", imagen: "https://www.purina.es/sites/default/files/styles/ttt_image_510/public/2024-02/sitesdefaultfilesstylessquare_medium_440x440public2022-06Yorkshire-Terrier-Dog.jpg?itok=MLGvxU38", sexo: "Hembra" },
            "Buddy": { raza: "Basset Hound", dueño: "Lucía Vargas", imagen: "https://www.cuddla.com/wp-content/uploads/2021/11/basset-hound.jpg", sexo: "Macho" },
           "Daisy":{ raza: "Bichón Maltés", dueño: "Nicolás Díaz", imagen: "https://blog.dogfydiet.com/wp-content/uploads/2023/06/Caracter-del-Bichon-maltes.jpg", genero: "Hembra" },
           "Duke":{ raza: "Rottweiler", dueño: "Emilia Soto", imagen: "https://www.purina.es/sites/default/files/2021-02/BREED%20Hero_0109_rottweiler.jpg", genero: "Macho" },
            "Penny":{ raza: "Sphynx", dueño: "Gabriel Castro", imagen: "https://www.purina.es/sites/default/files/2021-02/CAT%20HERO_0026_Sphynx.jpg", genero: "Hembra" }
        };

        function obtenerAleatorio(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function obtenerMultiplesAleatorios(array, cantidadMin = 1, cantidadMax = 3) {
            const cantidad = Math.floor(Math.random() * (cantidadMax - cantidadMin + 1)) + cantidadMin;
            const seleccionados = new Set();
            while (seleccionados.size < cantidad) {
                seleccionados.add(obtenerAleatorio(array));
            }
            return Array.from(seleccionados).join(', ');
        }

        function obtenerEdadAleatoria() {
            return Math.floor(Math.random() * 15) + ' años';
        }

        function obtenerMicrochipAleatorio() {
            return '987' + Math.random().toString(9).substring(2, 11);
        }

        function cargarDatosMascota() {
            const mascotaSeleccionada = JSON.parse(localStorage.getItem('mascotaSeleccionada'));
            const nombreMascota = mascotaSeleccionada?.nombre || obtenerAleatorio(Object.keys(datosExtra));
            const datosMascotaExtra = datosExtra[nombreMascota] || {};

            const datosRelleno = {
                nombre: nombreMascota,
                raza: datosMascotaExtra.raza || (obtenerAleatorio(['Caniche', 'Siames', 'Labrador']) || 'No disponible'),
                dueño: datosMascotaExtra.dueño || obtenerAleatorio(nombresDueñoLista),
                sexo: datosMascotaExtra.sexo || obtenerAleatorio(sexos),
                especie: obtenerAleatorio(especies),
                edad: obtenerEdadAleatoria(),
                color: obtenerAleatorio(colores),
                microchip: obtenerMicrochipAleatorio(),
                collar: obtenerAleatorio(['Sí', 'No', 'Con placa']),
                direccion: obtenerAleatorio(direcciones),
                telefono: obtenerAleatorio(telefonos),
                email: obtenerAleatorio(emails),
                contactoEmergencia: obtenerAleatorio(contactosEmergencia),
                veterinario: obtenerAleatorio(veterinarios),
                clinicaEmergencia: obtenerAleatorio(clinicasEmergencia),
                seguroMascotas: obtenerAleatorio(seguros),
                vacunas: obtenerMultiplesAleatorios(vacunasLista),
                esterilizacion: obtenerAleatorio(['Sí', 'No']),
                alergias: obtenerAleatorio(['Ninguna', 'Polen', 'Ácaros', 'Ciertos alimentos']),
                medicamentos: obtenerAleatorio(['Ninguno', 'Antipulgas', 'Desparasitante']),
                medicPreventivos: obtenerAleatorio(['Ninguno', 'Pastilla mensual', 'Pipeta trimestral']),
                cirugias: obtenerAleatorio(['Ninguna', 'Esterilización', 'Extracción dental']),
                hospitalizaciones: obtenerAleatorio(['Ninguna', 'Una vez', 'Varias veces']),
                comportamiento: obtenerAleatorio(comportamientos),
                ejercicio: obtenerAleatorio(ejercicios),
                alimento: obtenerAleatorio(alimentos),
                horarioAlimentacion: obtenerAleatorio(horarios),
                premios: obtenerMultiplesAleatorios(premiosLista),
                suplementos: obtenerMultiplesAleatorios(suplementosLista, 0, 2),
                agua: obtenerAleatorio(['Libre acceso', 'Controlado']),
                alergiasAlimentarias: obtenerAleatorio(['Ninguna', 'Pollo', 'Pescado', 'Lácteos']),
                aseo: obtenerAleatorio(aseosLista),
                restriccionesEjercicio: obtenerAleatorio(['Ninguna', 'Evitar saltos', 'Caminatas cortas']),
                temperamento: obtenerAleatorio(temperamentosLista),
                miedos: obtenerMultiplesAleatorios(miedosLista, 0, 2),
                ubicacionMicrochip: obtenerAleatorio(ubicacionesMicrochipLista),
                grupoSanguineo: obtenerAleatorio(['A+', 'B-', 'O+']), // Relleno genérico
                reaccionesAnestesia: obtenerAleatorio(reaccionesAnestesiaLista),
                deseosFinalVida: obtenerAleatorio(deseosFinalVidaLista)
            };

            document.getElementById('nombreMascota').textContent = datosRelleno.nombre;
            document.getElementById('razaMascota').textContent = datosRelleno.raza;
            document.getElementById('nombreDueño').textContent = datosRelleno.dueño;
            document.getElementById('sexoMascota').textContent = datosRelleno.sexo;
            document.getElementById('especieMascota').textContent = datosRelleno.especie;
            document.getElementById('edadMascota').textContent = datosRelleno.edad;
            document.getElementById('colorMascota').textContent = datosRelleno.color;
            document.getElementById('microchipMascota').textContent = datosRelleno.microchip;
            document.getElementById('collarMascota').textContent = datosRelleno.collar;
            document.getElementById('nombreDueñoContacto').textContent = datosRelleno.dueño; // Usar el mismo dueño para contacto por ahora
            document.getElementById('direccionDueño').textContent = datosRelleno.direccion;
            document.getElementById('telefonoDueño').textContent = datosRelleno.telefono;
            document.getElementById('emailDueño').textContent = datosRelleno.email;
            document.getElementById('contactoEmergencia').textContent = datosRelleno.contactoEmergencia;
            document.getElementById('veterinario').textContent = datosRelleno.veterinario;
            document.getElementById('clinicaEmergencia').textContent = datosRelleno.clinicaEmergencia;
            document.getElementById('seguroMascotas').textContent = datosRelleno.seguroMascotas;
            document.getElementById('vacunasMascota').textContent = datosRelleno.vacunas;
            document.getElementById('esterilizacionMascota').textContent = datosRelleno.esterilizacion;
            document.getElementById('alergiasMascota').textContent = datosRelleno.alergias;
            document.getElementById('medicamentosMascota').textContent = datosRelleno.medicamentos;
            document.getElementById('medicamentosPreventivos').textContent = datosRelleno.medicPreventivos;
            document.getElementById('cirugiasMascota').textContent = datosRelleno.cirugias;
            document.getElementById('hospitalizacionesMascota').textContent = datosRelleno.hospitalizaciones;
            document.getElementById('comportamientoMascota').textContent = datosRelleno.comportamiento;
            document.getElementById('ejercicioMascota').textContent = datosRelleno.ejercicio;
            document.getElementById('alimentoMascota').textContent = datosRelleno.alimento;
            document.getElementById('horarioAlimentacion').textContent = datosRelleno.horarioAlimentacion;
            document.getElementById('premiosMascota').textContent = datosRelleno.premios;
            document.getElementById('suplementosMascota').textContent = datosRelleno.suplementos;
            document.getElementById('aguaMascota').textContent = datosRelleno.agua;
            document.getElementById('alergiasAlimentarias').textContent = datosRelleno.alergiasAlimentarias;
            document.getElementById('aseoMascota').textContent = datosRelleno.aseo;
            document.getElementById('restriccionesEjercicio').textContent = datosRelleno.restriccionesEjercicio;
            document.getElementById('temperamentoMascota').textContent = datosRelleno.temperamento;
            document.getElementById('miedosMascota').textContent = datosRelleno.miedos;
            document.getElementById('ubicacionMicrochip').textContent = datosRelleno.ubicacionMicrochip;
            document.getElementById('grupoSanguineoMascota').textContent = datosRelleno.grupoSanguineo;
            document.getElementById('reaccionesAnestesia').textContent = datosRelleno.reaccionesAnestesia;
            document.getElementById('deseosFinalVida').textContent = datosRelleno.deseosFinalVida;

            const nombreParaImagen = nombreMascota.toLowerCase();
            const imagenEnDatosExtra = datosExtra[nombreMascota]?.imagen;
            const imagenesRelleno = [
                "https://via.placeholder.com/150/FFC0CB/000000?Text=" + nombreParaImagen,
                "https://via.placeholder.com/150/ADD8E6/000000?Text=" + nombreParaImagen,
                "https://via.placeholder.com/150/90EE90/000000?Text=" + nombreParaImagen,
                "https://via.placeholder.com/150/FFA07A/000000?Text=" + nombreParaImagen,
                "https://via.placeholder.com/150/DDA0DD/000000?Text=" + nombreParaImagen
            ];
            document.getElementById('imagenMascota').src = imagenEnDatosExtra || obtenerAleatorio(imagenesRelleno);
        }

        function subirHistorial() {
        const fileInput = document.getElementById('historialClinico');
        const file = fileInput.files[0];

        if (file) {
            alert(`Historial clínico ${file.name} subido correctamente.`);
            fileInput.value = '';
        }
    }

    window.onload = cargarDatosMascota;
</script>

</body>
</html>